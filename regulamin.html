<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Regulamin Gry - Obstawianie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f2f2f2; margin: 0; padding: 20px; display: flex; justify-content: center; transition: 0.3s; }
        body.dark { background: #121212; color: #eee; }
        .container { max-width: 800px; width: 100%; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        body.dark .container { background: #1e1e1e; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        h1 { text-align: center; color: #007bff; }
        h2 { border-bottom: 2px solid #007bff; padding-bottom: 5px; margin-top: 30px; }
        
        .point-box { background: #e9f4ff; padding: 15px; border-radius: 8px; border-left: 5px solid #007bff; margin: 15px 0; }
        body.dark .point-box { background: #253a4e; border-left-color: #0056b3; }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 12px; border: 1px solid #ddd; text-align: left; }
        body.dark th, body.dark td { border-color: #444; }
        th { background: #f8f9fa; }
        body.dark th { background: #2a2a2a; }

        /* --- STYLIZACJA AKCEPTACJI (SCANNER) --- */
        .acceptance-section { text-align: center; margin-top: 50px; padding: 20px; border: 2px dashed #007bff; border-radius: 15px; }
        
        #fingerprint-btn {
            width: 100px; height: 100px; background: #eee; border-radius: 50%;
            display: inline-flex; align-items: center; justify-content: center;
            font-size: 50px; cursor: pointer; user-select: none;
            transition: 0.3s; position: relative; border: 4px solid #007bff;
            -webkit-tap-highlight-color: transparent;
        }
        #fingerprint-btn:active { transform: scale(0.9); background: #007bff; }
        
        .pulse { position: absolute; width: 100%; height: 100%; border-radius: 50%; border: 4px solid #007bff; animation: pulse-animation 1.5s infinite; opacity: 0; }
        @keyframes pulse-animation { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }

        #status-msg { margin-top: 15px; font-weight: bold; font-size: 18px; height: 24px; }
        .success { color: #28a745; }

        /* Certyfikat */
        #cert { display: none; margin-top: 20px; padding: 15px; background: #fff3cd; border: 1px solid #ffeeba; border-radius: 10px; color: #856404; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <h1>üìú Regulamin Gry</h1>
    
    <section>
        <h2>1. Zasady Og√≥lne</h2>
        <p>Celem gry jest wytypowanie godziny, kt√≥ra bƒôdzie jak najbli≈ºsza momentowi naci≈õniƒôcia przycisku <strong>STOP</strong> przez administratora.</p>
    </section>

    <section>
        <h2>2. System Punktacji (Sportowy)</h2>
        <p>Punkty przyznawane sƒÖ trzem osobom, kt√≥rych typy sƒÖ najbli≈ºsze zatrzymanemu czasowi. W przypadku remis√≥w stosujemy standardowƒÖ procedurƒô sportowƒÖ:</p>
        
        <div class="point-box">
            <strong>Standardowe punkty:</strong>
            <ul>
                <li>ü•á <strong>1. miejsce:</strong> 3 punkty</li>
                <li>ü•à <strong>2. miejsce:</strong> 2 punkty</li>
                <li>ü•â <strong>3. miejsce:</strong> 1 punkt</li>
            </ul>
        </div>

        <h3>Przyk≈Çady Remis√≥w:</h3>
        <table>
            <tr>
                <th>Sytuacja</th>
                <th>Podzia≈Ç punkt√≥w</th>
            </tr>
            <tr>
                <td>Dwie osoby na 1. miejscu</td>
                <td>Obie dostajƒÖ po <strong>3 pkt</strong>. Nie ma 2. miejsca. Nastƒôpna osoba zajmuje 3. miejsce i dostaje <strong>1 pkt</strong>.</td>
            </tr>
            <tr>
                <td>Trzy osoby na 1. miejscu</td>
                <td>Wszystkie dostajƒÖ po <strong>3 pkt</strong>. Miejsca 2 i 3 nie sƒÖ przyznawane.</td>
            </tr>
            <tr>
                <td>Jedna osoba 1., dwie osoby 2.</td>
                <td>Lider 3 pkt, dwie osoby po <strong>2 pkt</strong>. Miejsce 3 nie jest przyznawane.</td>
            </tr>
        </table>
    </section>

    <section>
        <h2>3. Anonimowo≈õƒá</h2>
        <p>Do momentu zako≈Ñczenia rundy lub odkrycia imion przez administratora, uczestnicy widniejƒÖ pod losowymi pseudonimami (np. <em>Leonard Bogumi≈Ç</em> czy <em>Kebab z falafelem</em>).</p>
    </section>

    <div class="acceptance-section">
        <h3>üîê Akceptacja Regulaminu</h3>
        <p>Przytrzymaj palec na skanerze (3 sekundy), aby potwierdziƒá sw√≥j udzia≈Ç i zaakceptowaƒá zasady.</p>
        
        <div id="fingerprint-btn">
            <div class="pulse"></div>
            ‚òùÔ∏è
        </div>
        
        <div id="status-msg">Oczekiwanie na skan...</div>
        <div id="cert">
            ‚úÖ <strong>CERTYFIKAT AKTYWNY:</strong> U≈ºytkownik zaakceptowa≈Ç warunki gry. <br>
            <small id="timestamp"></small>
        </div>
    </div>
</div>

<script>
    const btn = document.getElementById('fingerprint-btn');
    const msg = document.getElementById('status-msg');
    const cert = document.getElementById('cert');
    const ts = document.getElementById('timestamp');
    let timer;

    // Funkcja obs≈ÇugujƒÖca start skanowania
    function startScan(e) {
        e.preventDefault();
        btn.style.background = "#ffc107";
        msg.textContent = "Skanowanie linii papilarnych...";
        msg.className = "";
        
        timer = setTimeout(() => {
            btn.style.background = "#28a745";
            btn.innerHTML = "‚úÖ";
            msg.textContent = "AKCEPTACJA PRZYJƒòTA";
            msg.className = "success";
            cert.style.display = "block";
            ts.textContent = "ID transakcji: " + Math.random().toString(36).substr(2, 9).toUpperCase() + " | Data: " + new Date().toLocaleString();
            
            // Mo≈ºesz tutaj dodaƒá zapis do Firebase, ≈ºe dany u≈ºytkownik zaakceptowa≈Ç regulamin
        }, 2000);
    }

    // Przerwanie skanowania
    function stopScan() {
        if (btn.innerHTML !== "‚úÖ") {
            clearTimeout(timer);
            btn.style.background = "#eee";
            msg.textContent = "Skanowanie przerwane!";
        }
    }

    // Obs≈Çuga dotyku i myszki
    btn.addEventListener('mousedown', startScan);
    btn.addEventListener('mouseup', stopScan);
    btn.addEventListener('touchstart', startScan);
    btn.addEventListener('touchend', stopScan);

    // Dark mode sync (opcjonalnie)
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

</body>
</html>