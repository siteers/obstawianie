<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>ğŸ† Ranking zwyciÄ™zcÃ³w</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: Arial;
  background:#111;
  color:#fff;
  padding:20px;
}
table {
  width:100%;
  max-width:500px;
  margin:auto;
  border-collapse:collapse;
}
th,td {
  border:1px solid #444;
  padding:12px;
  text-align:center;
}
th { background:#222; }
h1 { text-align:center; }
</style>
</head>
<body>

<h1>ğŸ† Ranking zwyciÄ™zcÃ³w</h1>

<table id="rank">
<tr><th>#</th><th>ImiÄ™</th><th>Wygrane</th></tr>
</table>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, onSnapshot } 
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCEEVCSx2uOOggu_4y_gUo4WMyKqf-HlKI",
  authDomain: "obstaiwanie.firebaseapp.com",
  projectId: "obstaiwanie"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const table = document.getElementById("rank");

onSnapshot(collection(db,"ranking"), snap=>{
  const data=[];
  snap.forEach(d=>data.push({name:d.id, ...d.data()}));
  data.sort((a,b)=>b.wins-a.wins);

  table.innerHTML="<tr><th>#</th><th>ImiÄ™</th><th>Wygrane</th></tr>";
  data.forEach((u,i)=>{
    table.innerHTML+=`
      <tr>
        <td>${i+1}</td>
        <td>${u.name}</td>
        <td>${u.wins}</td>
      </tr>`;
  });
});
</script>

</body>
</html>
